\setcounter{secnumdepth}{3}

\chapter{Compiling Monteverdi from source}
\label{chapter:CompilingMonteverdi}

\section{Linux and Mac OS X}

Compiling Monteverdi from source follows the same procedure as a regular CMake project: setup a directory for an
out-of-source build, configure and compile.

\subsection{Monteverdi}

Make sure OTB is compiled with at least \texttt{OTB\_USE\_QT4}, \texttt{OTB\_USE\_GLUT}, \texttt{OTB\_USE\_GLFW} and \texttt{OTB\_USE\_GLEW} set to ON.
Setup another out-of-source build environment for Monteverdi:
\begin{verbatim}
$ mkdir ~/monteverdi
$ cd ~/monteverdi
$ git clone https://git@git.orfeo-toolbox.org/git/monteverdi2.git
$ mkdir build
$ mkdir install
\end{verbatim}

Remember to checkout the develop branch if you want the current development version:
\begin{verbatim}
$ cd ~/monteverdi/monteverdi2
$ git checkout develop
\end{verbatim}

CMake needs to find both OTB and QWT installation locations.
For example, set an CMake cache pre-population script with the following content:
\begin{verbatim}
# monteverdi-configuration.cmake
set(CMAKE_INSTALL_PREFIX "~/monteverdi/install" CACHE STRING "" FORCE)
set(OTB_DIR "~/OTB/install/lib/cmake/OTB-5.0" CACHE STRING "" FORCE)
set(QWT_INCLUDE_DIR "/usr/include/qwt5-qt4" CACHE STRING "" FORCE)
set(QWT_LIBRARY "/usr/lib64/libqwt.so.5" CACHE STRING "" FORCE)
\end{verbatim}

Configure and compile monteverdi:
\begin{verbatim}
$ cd ~/monteverdi/build
$ cmake -C monteverdi-configuration.cmake ../monteverdi2
$ make
$ make install
\end{verbatim}

\section{Windows}

Everything that is needed for Monteverdi development on Windows, including compiling from source, is covered in details on the OTB wiki at:
\begin{center}
\url{http://wiki.orfeo-toolbox.org/index.php/OTB_development_on_Windows}
\end{center}
